<div class="modal-header">
  <h4 class="modal-title">Detalle del Turno</h4>
  <button type="button" class="btn-close" (click)="modal.dismiss()"></button>
</div>

<div class="modal-body">
  <form [formGroup]="formturnoDetail" (ngSubmit)="validateForm()" class="row g-4">
    
    <!-- Información del Supervisor (Solo lectura) -->
    <div class="col-6 mb-3">
      <h6 class="mb-3 text-primary">Información del Supervisor</h6>
      <div class="d-flex align-items-center p-3 bg-light rounded">
        <img src="/assets/images/profile/user-4.jpg" alt="supervisor" width="48" class="rounded-circle me-3">
        <div>
          <h6 class="mb-0">{{turno.nombreSupervisor || 'Juan Pérez'}}</h6>
          <small class="text-muted">Supervisor asignado</small>
        </div>
      </div>
    </div>

    <!-- Información del Cajero (Solo lectura) -->
    <div class="col-6 mb-3">
      <h6 class="mb-3 text-success">Información del Cajero</h6>
      <div class="d-flex align-items-center p-3 bg-light rounded">
        <img src="/assets/images/profile/user-4.jpg" alt="cajero" width="48" class="rounded-circle me-3">
        <div>
          <h6 class="mb-0">{{turno.nombreCajero || 'María González'}}</h6>
          <small class="text-muted">Cajero asignado</small>
        </div>
      </div>
    </div>

    <!-- Fecha Asignado (Solo lectura) -->
    <div class="col-md-6">
      <label class="form-label fw-bold">
        Fecha Asignado
      </label>
      <div class="input-group">
        <span class="input-group-text icon-center">
          <i-tabler name="calendar" class="icon-20 d-flex"></i-tabler>
        </span>
        <input type="text" class="form-control shadow-sm" 
               [value]="turno.fecha | date:'dd/MM/yyyy'" 
               readonly>
      </div>
    </div>

    <!-- Grupo (Editable) -->
    <div class="col-md-6">
      <label for="grupo" class="form-label fw-bold">
        <i-tabler name="users" class="icon-20 me-1"></i-tabler>
        Grupo
      </label>
      <div class="input-group">
        <span class="input-group-text icon-center">
          <i-tabler name="users" class="icon-20 d-flex"></i-tabler>
        </span>
        <input type="text" class="form-control shadow-sm" 
               id="grupo" placeholder="Ingrese el grupo" [value]="turno.grupo"
               readonly>
      </div>
      <div class="text-danger small mt-1" 
           *ngIf="formturnoDetail.get('grupo')?.hasError('required') && formturnoDetail.get('grupo')?.touched">
        El grupo es requerido
      </div>
    </div>

    <!-- Vía (Editable) -->
    <div class="col-md-4">
      <label for="via" class="form-label fw-bold">
        Vía
      </label>
      <div class="input-group">
        <span class="input-group-text icon-center">
          <i-tabler name="road" class="icon-20 d-flex"></i-tabler>
        </span>
        <select class="form-select shadow-sm" id="via" formControlName="via">
          <option value="" disabled>Seleccione una vía</option>
          <option *ngFor="let via of [1, 2, 3, 4,5,6,7,8,105,104]" [value]="via">{{ via }}</option>
        </select>
      </div>
      <div class="text-danger small mt-1" 
           *ngIf="formturnoDetail.get('via')?.hasError('required') && formturnoDetail.get('via')?.touched">
        La vía es requerida
      </div>
    </div>

    <!-- Turno (Editable) -->
    <div class="col-md-4">
      <label for="turno" class="form-label fw-bold">
        Turno
      </label>
      <div class="input-group">
        <span class="input-group-text icon-center">
          <i-tabler name="clock" class="icon-20 d-flex"></i-tabler>
        </span>
        <select class="form-select shadow-sm" id="turno" formControlName="turno">
            <option value="" disabled>Seleccione un turno</option>
            <option *ngFor="let turno of ['1', '2', '3']" [value]="turno">{{ turno }}</option>
        </select>
      </div>
      <div class="text-danger small mt-1" 
           *ngIf="formturnoDetail.get('turno')?.hasError('required') && formturnoDetail.get('turno')?.touched">
        El turno es requerido
      </div>
    </div>

    <!-- Estado (Editable) -->
    <div class="col-md-4">
      <label for="estado" class="form-label fw-bold">
        Estado
      </label>
      <div class="input-group">
        <span class="input-group-text icon-center">
          <i-tabler name="clock" class="icon-20 d-flex"></i-tabler>
        </span>
        <select class="form-select shadow-sm" id="estado" formControlName="estado">
            <option value="" disabled>Seleccione un estado</option>
            <option *ngFor="let estado of estados" [value]="estado.Id">{{ estado.Nombre }}</option>
        </select>
      </div>
      <div class="text-danger small mt-1" 
           *ngIf="formturnoDetail.get('turno')?.hasError('required') && formturnoDetail.get('turno')?.touched">
        El turno es requerido
      </div>
    </div>

    <!-- Botones de acción -->
    <div class="col-12 d-flex justify-content-end gap-2 mt-4">
      <button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss()">
        <i-tabler name="x" class="icon-18 me-1"></i-tabler>
        Cancelar
      </button>
      <button type="submit" class="btn btn-primary" [disabled]="formturnoDetail.invalid">
        <i-tabler name="device-floppy" class="icon-18 me-1"></i-tabler>
        Guardar cambios
      </button>
    </div>

  </form>
</div>
