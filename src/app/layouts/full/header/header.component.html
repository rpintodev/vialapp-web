<mat-toolbar class="topbar gap-10 navbar-dynamic">

  <!-- Botón del sidebar - SIEMPRE VISIBLE -->
  <button 
    mat-icon-button 
    (click)="toggleMobileNav.emit()" 
    class="sidebar-toggle-btn me-2"
    [attr.aria-label]="sidebarOpen ? 'Cerrar menú' : 'Abrir menú'"
    matTooltip="{{ sidebarOpen ? 'Cerrar menú' : 'Abrir menú' }}">
    <i-tabler 
      [name]="sidebarOpen ? 'x' : 'menu-2'" 
      class="icon-20 d-flex">
    </i-tabler>
  </button>

  <!-- Título de bienvenida -->
  <mat-card-title class="mat-mdc-card-title me-auto">
    Bienvenido, {{nombre}}
  </mat-card-title>

  <!-- Spacer para empujar elementos a la derecha -->
  <span class="flex"></span>

  <span class="mat-mdc-card-title me-2">{{peaje}}</span>

  <!-- Notificaciones -->
  <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Notifications">
    
    <i-tabler class="d-flex" name="building" matBadge="1" matBadgeColor="primary"></i-tabler>
  </button>
  <mat-menu #menu="matMenu">
    <button mat-menu-item (click)="updatePeaje()">
      <i-tabler name="home-move" class="icon-18 me-2"></i-tabler>
      @if(peaje=='Los Angeles'){Congoma}@else{Los Angeles}
    </button>
  </mat-menu>

  <!-- Profile Dropdown -->
  <button mat-mini-fab [matMenuTriggerFor]="profilemenu" aria-label="Profile menu" class="ms-2">
    <img src="/assets/images/profile/user-1.jpg" class="rounded-circle object-cover d-block" width="35" />
  </button>
  <mat-menu #profilemenu="matMenu" class="cardWithShadow topbar-dd">
    <button mat-menu-item>
      <mat-icon class="d-flex align-items-center">
        <i-tabler name="user" class="icon-18 d-flex"></i-tabler>
      </mat-icon>
      Mi Perfil
    </button>
    <button mat-menu-item>
      <mat-icon class="d-flex align-items-center">
        <i-tabler name="mail" class="icon-18 d-flex"></i-tabler>
      </mat-icon>
      Mi Cuenta
    </button>
    <button mat-menu-item>
      <mat-icon class="d-flex align-items-center">
        <i-tabler name="settings" class="icon-18 d-flex"></i-tabler>
      </mat-icon>
      Configuración
    </button>

    <div class="p-x-12 m-t-12">
      <a (click)="logOut()" mat-stroked-button class="w-100">
        <i-tabler name="logout" class="icon-16 me-1"></i-tabler>
        Cerrar Sesión
      </a>
    </div>
  </mat-menu>
</mat-toolbar>